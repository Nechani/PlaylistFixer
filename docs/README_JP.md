1. Playlist Fixer とは？

Playlist Fixer は、音楽ファイル自体は存在しているにもかかわらず、
パス・フォーマット・使用デバイスの変更によって壊れてしまった
プレイリストファイル（.m3u / .m3u8）を修復するためのツールです。

このツールは 音楽ファイルそのものを変更しません。
既存の音楽ファイルを再スキャンし、
プレイリスト内の参照先（リンク）だけを正しく再接続します。

Playlist Fixer が役立つケース

以下のような状況で有効です：

Windows ⇄ macOS など コンピュータを変更した

音楽フォルダの構成を 移動・整理した

音楽フォーマットを変換した（FLAC → ALAC / WAV など）

デバイス間でプレイリストを移行した

DAP（デジタルオーディオプレーヤー）で曲が欠落する／読み込めない

Roon、Foobar、DAP などが 正しくプレイリストを読み取れない場合

Playlist Fixer ができないこと

Playlist Fixer は以下の用途には対応していません：

存在しない音楽ファイルのダウンロード

メタデータやタグの編集

ストリーミングサービスのプレイリスト管理
（Spotify / Apple Music のオンラインプレイリストなど）

2. 代表的な使用シナリオ

Playlist Fixer は、実際の利用環境で次のような問題を解決できます。

💻 コンピュータ移行時

新しい PC / Mac に移行した後、古いパスが存在しない

音楽フォルダ構成が変更された

🔄 フォーマット変換後

プレイリストは .flac を参照している

実際のファイルは .alac、.wav などに変わっている

🎧 DAP プレイリスト修復

DAP がプレイリストを正しく読み込めない

曲が一部欠落する、途中で止まる

PC の音楽ライブラリを使って DAP 用プレイリストを修復

DAP から書き出したプレイリストを PC 用に修復

🔁 デバイス間プレイリスト復元

DAP で作成したプレイリストを PC で再利用

PC のプレイリストを DAP で使える形に修復

3. 使用前の準備
対応プレイリスト形式

.m3u

.m3u8

対応音楽ファイル形式

Playlist Fixer は 既に存在する音楽ファイルのみを対象に動作します。

対応形式：

一般的な圧縮形式
.mp3, .aac, .ogg, .opus

ロスレス形式
.flac, .wav, .aif, .aiff, .ape, .wv

Apple 系コンテナ
.m4a, .alac

DSD 形式
.dsf, .dff（ベストエフォート対応）

⚠️ 音楽ファイルがどのフォルダにも存在しない場合、修復はできません。

4. 操作手順（ステップ・バイ・ステップ）
Step 1 – 音楽フォルダを追加

「Add Music Folder」をクリックし、
音楽ファイルが保存されているフォルダを 1 つ以上選択します。

これらのフォルダは、後の検索・照合に使用されます。

Step 2 – インデックスを作成／再構築

「Scan / Rebuild Index」をクリックします。

すべての音楽ファイルをスキャンし、
検索可能なインデックスを作成します。

※ 音楽フォルダを変更しない限り、再実行は不要です。

Step 3 – プレイリストを読み込む

「Import Playlist(s)」をクリックし、
1 つの .m3u または .m3u8 プレイリストファイルを選択します。

Playlist Fixer は 一度に 1 つのプレイリストのみ修復します。
現在のプレイリストを修復・保存してから、次を読み込んでください。

Step 4 – 修復（セーフモード）

「Repair (Safe)」をクリックします。

各エントリは次のように分類されます：

Kept – 既に正しく、修復不要

Repaired (Auto) – 自動的に修復された

Ambiguous – 複数の候補が見つかった

Failed – 一致するファイルが見つからない

詳細レポートは reports/ フォルダに生成されます。

Step 5 – 未解決項目の確認

「View」セレクタを使用します：

Unresolved – 対応が必要な項目

Resolved – 自動／手動で修復済み（確認用）

Ambiguous（曖昧な一致）

行を選択

候補リストから正しいファイルを選択

Apply をクリック

Failed（未一致）

行を選択

Browse をクリック

正しい音楽ファイルを手動で選択

Apply をクリック

Apply した内容は、保存されるまで メモリ上に保持されます。

Step 6 – 修復済みプレイリストを保存

「Save Fixed Playlist」をクリックします。

この操作により：

新しいプレイリストファイル
fixed_*_selected.m3u が生成されます

手動修復の選択内容が保存されます

Unresolved から修復済み項目が除外されます

⚠️ ディスクに書き込まれるのはこの操作のみです。

5. レポート・出力ファイルについて

すべての修復関連ファイルは reports/ フォルダに保存されます。

主なファイル

repair_report_*.csv
各プレイリストエントリの詳細解析

fixed_*_selected.m3u
修復後の最終プレイリスト

selections_*.json
手動修復の選択履歴（再利用・監査用）

⚠️ これらのファイルを削除すると進捗が失われます。

6. 問題が発生した場合

サポートが必要な場合、以下を準備してください。

送ってほしいファイル

元のプレイリスト（.m3u / .m3u8）

対応する repair_report_*.csv

selections_*.json（存在する場合）

送らないでください

音楽ライブラリ全体

大容量の音楽ファイル

併せて記載してください

期待していた動作

実際に起きたこと

使用 OS（Windows / macOS）

7. 作者・連絡先

Author: Ne
GitHub: https://github.com/Nechani

Issues / Feedback: plfixne@gmail.com

Support: https://ko-fi.com/nechani

このツールがあなたの時間やプレイリストを救ったなら、
開発支援をご検討ください ☕

✔ 最後に

Playlist Fixer は以下を重視して設計されています：

安全性（破壊的操作なし）

透明性（CSV レポート）

復元性（手動選択の保持）

守りたいものは一つだけです。

長年かけて作り上げた、あなたのプレイリスト。